{#
 # Created by PhpStorm.
 # User: lqdung1992@gmail.com
 # Date: 02/10/2018
 # Time: 16:46 PM
 #}

{% extends 'default_frame.twig' %}
{% set body_class = ' ' %}
{% block javascript %}
    <script src="//yubinbango.github.io/yubinbango/yubinbango.js" charset="UTF-8"></script>
    <script>
        $(function () {
            var index = 0;
            $("#farmer_regist_receiver_get_time .radio label").each(function () {
                var tag_name = $(this).text();
                var id = $(this).find('input').attr('id');
                var checked = $(this).find('input').attr('checked');
                if (checked) {
                    $("#get_time_group").append('<button class="btn btn-success" input_id="'+id+'" type="button">'+tag_name+'</button>');
                } else {
                    $("#get_time_group").append('<button class="btn btn-default" input_id="'+id+'" type="button">'+tag_name+'</button>');
                }
                index++;
            });

            $("#farmer_regist_receiver_container_type .radio label").each(function () {
                var tag_name = $(this).text();
                var id = $(this).find('input').attr('id');
                var checked = $(this).find('input').attr('checked');
                if (checked) {
                    $("#container_type_group").append('<button class="btn btn-success" input_id="'+id+'" type="button">'+tag_name+'</button>');
                } else {
                    $("#container_type_group").append('<button class="btn btn-default" input_id="'+id+'" type="button">'+tag_name+'</button>');
                }
                index++;
            });

            $("#get_time_group button").click(function () {
                var ele = $(this);
                var id = ele.attr('input_id');
                ele.addClass('btn-success');
                ele.removeClass('btn-default');
                ele.siblings().addClass('btn-default');
                ele.siblings().removeClass('btn-success');
                $("#"+id).prop('checked', true);
            });

            $("#container_type_group button").click(function () {
                var ele = $(this);
                var id = ele.attr('input_id');
                ele.addClass('btn-success');
                ele.removeClass('btn-default');
                ele.siblings().addClass('btn-default');
                ele.siblings().removeClass('btn-success');
                $("#"+id).prop('checked', true);
            });
        });
    </script>
{% endblock %}
{% block main %}
    <style type="text/css">
        .input_zip select {
            height: 50px !important;
        }
    </style>
    <div class="wrapper" id="service-regist-receiver-wrapper">
        <div id="service-wrapper">
            <form id="service-form" method="post" action="{{ url('farm_service_profile_setting') }}" class="h-adr">
                <span class="p-country-name" style="display:none;">Japan</span>
                {{ form_widget(form._token) }}
                <div class="row">
                <div class="col-lg-12 col-sm-12 col-xs-12">
                    <div class="form-group">
                        {{ form_label(form.company_name) }}
                        {{ form_errors(form.company_name) }}
                        {{ form_widget(form.company_name, {'attr': {'placeholder' : '静岡県'}}) }}
                    </div>
                </div>

                <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                    <div class="form-group">
                        {{ form_label(form.name) }}
                        {{ form_errors(form.name.name01) }}
                        {{ form_errors(form.name.name02) }}
                        <div class="row">
                            <p class="col-sm-6 col-xs-6">
                                {{ form_widget(form.name.name01) }}
                            </p>
                            <p class="col-sm-6 col-xs-6">
                                {{ form_widget(form.name.name02) }}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                    <div class="form-group">
                        {{ form_label(form.zip) }}
                        {{ form_errors(form.zip.zip01) }}
                        {{ form_errors(form.zip.zip02) }}
                        <div class="row">
                            {% for zip in form.zip %}
                                <p class="col-sm-6 col-xs-6">
                                    {{ form_widget(zip, {'attr': {'class' :"p-postal-code"}}) }}
                                </p>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                    {{ form_label(form.address) }}
                    <div class="form-inline form-group input_zip">
                        {{ form_errors(form.address.pref) }}
                        {{ form_widget(form.address.pref, {'attr': {'class' :"p-region-id"}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_errors(form.address.addr01) }}
                        {{ form_widget(form.address.addr01, {'attr': {'placeholder': '市区町村名 (例：千代田区神田神保町)', 'class': 'p-locality p-street-address' }}) }}
                    </div>
                    <div class="form-group">
                        {{ form_errors(form.address.addr02) }}
                        {{ form_widget(form.address.addr02, {'attr': {'placeholder': '番地・ビル名 (例：1-3-5)', 'class' : 'p-extended-address' }}) }}
                    </div>
                </div>

                <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                    <div class="form-group">
                        {{ form_label(form.tel) }}
                        {{ form_errors(form.tel.tel01) }}
                        {{ form_errors(form.tel.tel02) }}
                        {{ form_errors(form.tel.tel03) }}
                        <div class="row">
                            <p class="col-sm-4 col-xs-4">{{ form_widget(form.tel.tel01, {'attr': {'class': 'short'}}) }}</p>
                            <p class="col-sm-4 col-xs-4">{{ form_widget(form.tel.tel02, {'attr': {'class': 'short'}}) }}</p>
                            <p class="col-sm-4 col-xs-4">{{ form_widget(form.tel.tel03, {'attr': {'class': 'short'}}) }}</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                    <div class="form-group">
                        {{ form_label(form.bus_stop) }}
                        {{ form_errors(form.bus_stop) }}
                        {{ form_widget(form.bus_stop, {'attr': {'class' :"select"}}) }}
                    </div>
                </div>

                {% if is_granted("ROLE_RECIPIENT") %}
                    <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                        <div class="form-group">
                            {{ form_label(form.receiver_get_time) }}
                            {{ form_errors(form.receiver_get_time) }}
                            {{ form_widget(form.receiver_get_time, {'attr': {'class': 'hidden'}}) }}
                        </div>
                        <div class="btn-group form-group btn-group-lg" role="group" id="get_time_group">
                        </div>
                    </div>
                    <div class="col-lg-12 col-sm-12 col-xs-12 inline-block" >
                        <div class="form-group">
                            {{ form_label(form.receiver_container_type) }}
                            {{ form_errors(form.receiver_container_type) }}
                            {{ form_widget(form.receiver_container_type, {'attr': {'class': 'hidden'}}) }}
                        </div>
                        <div class="btn-group form-group btn-group-lg" role="group" id="container_type_group">
                        </div>
                    </div>
                {% endif %}

                <div class="col-sm-12 col-xs-12">
                    <button type="submit" class="btn btn-default display-block setting-btn">変更を申請する</button>
                    <p class="text-alight-center margin-top15 title12">変更内容は事務局で内容を確認後に反映されます</p>
                </div>
                </div>

            </form>
        </div>
    </div>
{% endblock %}
